<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Farmacia - Control de Asistencia</title>
  <style>
    :root{
      --card:#ffffff;
      --accent:#16a34a;
      --muted:#6b7280;
      --error:#dc2626;
    }
    *{box-sizing:border-box;font-family:Inter,system-ui,Arial}
    
    body{
      margin:0;
      color:#111;
      position: relative;
      min-height: 100vh;
      overflow: hidden;
    }

    /* ðŸ”¹ Fondo con dos imÃ¡genes tipo wallpapers */
      body::before {
        content: "";
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background-image: url("../images/logo-nanas.png"), url("../images/logo-silsan.png");
        background-position: left center, right center;
        background-repeat: no-repeat, no-repeat;
        background-size: 50% 100%, 50% 100%;
        z-index: -2;
        opacity: 0.8;
      }

    .container{max-width:700px;margin:32px auto;padding:20px;position:relative;z-index:1}
    header{text-align:center;margin-bottom:24px;animation:fadeIn 1s}
    h1{margin:0;font-size:28px;color:#064e3b}
    .card{background:var(--card);border-radius:16px;padding:20px;
      box-shadow:0 6px 18px rgba(15,23,42,0.08);margin-bottom:20px;
      transition:transform 0.2s}
    .card:hover{transform:scale(1.01)}
    input, select{
      width:100%;padding:14px;border-radius:10px;border:1px solid #e5e7eb;
      font-size:16px;margin-bottom:14px;transition:0.2s
    }
    input:focus, select:focus{outline:none;border-color:var(--accent);box-shadow:0 0 6px rgba(22,163,74,0.5)}
    .error{border-color:var(--error)!important}
    button{
      background:var(--accent);color:#fff;border:0;padding:14px 20px;
      border-radius:12px;font-size:16px;cursor:pointer;width:100%;
      transition:0.2s;box-shadow:0 4px 10px rgba(22,163,74,0.3)
    }
    button:hover{opacity:0.9;transform:scale(1.02)}
    .camera-box{border:2px solid #ccc;border-radius:12px;overflow:hidden;width:100%;max-width:400px;margin:16px auto;}
    video{width:100%;display:block}
    .chip{
      background:#dcfce7;color:#166534;padding:6px 10px;border-radius:999px;
      font-size:13px;margin-top:10px;text-align:center;animation:fadeIn 0.5s
    }
    .muted{color:var(--muted);font-size:14px;text-align:center}

    /* ðŸ”¹ Reloj en cuadro mÃ¡s grande */
    #clock{
      display:inline-block;
      margin-top:20px;
      background:#d1fae5;     
      color:#065f46;          
      padding:20px 40px;
      border-radius:16px;
      font-size:48px;         
      font-weight:bold;
      box-shadow:0 6px 14px rgba(0,0,0,0.15);
      animation:fadeIn 1s;
      letter-spacing:2px;
    }

    #toast{
      position:fixed;bottom:20px;right:20px;background:#16a34a;color:white;
      padding:12px 18px;border-radius:10px;font-size:15px;box-shadow:0 6px 16px rgba(0,0,0,0.2);
      opacity:0;pointer-events:none;transition:opacity 0.4s,transform 0.4s;transform:translateY(20px)
    }
    #toast.show{opacity:1;pointer-events:auto;transform:translateY(0)}
    #lastPhoto{margin-top:12px;text-align:center}
    #lastPhoto img{width:100px;height:auto;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.2)}
    @keyframes fadeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Farmacia - Control de Asistencia</h1>
      <div id="clock"></div>
      <p class="muted">Selecciona tu empresa e ingresa tu DNI</p>
    </header>

    <div class="card">
      <input id="dniInput" placeholder="Ingresar DNI" autofocus>
      <select id="empresaSelect">
        <option value="Ana y Amas">Ana y Amas</option>
        <option value="Drogeria Silsan">Drogeria Silsan</option>
      </select>
      <button id="markBtn">Marcar asistencia</button>
      <div class="camera-box">
        <video id="camera" autoplay muted playsinline></video>
      </div>
      <canvas id="snapshotCanvas" style="display:none"></canvas>
      <div id="lastRecord" class="chip" style="display:none"></div>
      <div id="lastPhoto"></div>
    </div>
  </div>

  <div id="toast"></div>

  <script>
    const $ = id => document.getElementById(id)
    function updateClock(){ $('clock').textContent=new Date().toLocaleTimeString() }
    setInterval(updateClock,1000);updateClock()
  </script>
</body>
</html>
